# DoDel - Courier Delivery App Frontend

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. **Header –∏ Navigation** ‚úîÔ∏è
- –£–ª—É—á—à–µ–Ω –¥–∏–∑–∞–π–Ω —à–∞–ø–∫–∏ —Å –≥—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–º–∏ –∫–Ω–æ–ø–∫–∞–º–∏
- –î–æ–±–∞–≤–ª–µ–Ω —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª **Logout** (–≤—ã—Ö–æ–¥ –∏–∑ —Å–∏—Å—Ç–µ–º—ã)
- –£—Å–ª–æ–≤–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –∫–Ω–æ–ø–æ–∫ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤

### 2. **–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (Home)** ‚úîÔ∏è
- –£–ª—É—á—à–µ–Ω UX - –∫–Ω–æ–ø–∫–∞ –º–µ–Ω—è–µ—Ç—Å—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- –ï—Å–ª–∏ –∑–∞–ª–æ–≥–∏–Ω–µ–Ω ‚Üí "–ó–∞–∫–∞–∑–∞—Ç—å –¥–æ—Å—Ç–∞–≤–∫—É"  
- –ï—Å–ª–∏ –Ω–µ –∑–∞–ª–æ–≥–∏–Ω–µ–Ω ‚Üí "–ù–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É"

### 3. **Refresh Token –º–µ—Ö–∞–Ω–∏–∑–º** ‚úîÔ∏è
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ –ø—Ä–∏ 401 –æ—à–∏–±–∫–µ
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ `refreshToken` –≤ localStorage
- –ü–æ–≤—Ç–æ—Ä –∑–∞–ø—Ä–æ—Å–∞ –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–∞
- –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ `/login` –µ—Å–ª–∏ refresh token –∏—Å—Ç—ë–∫

### 4. **–°—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–∫–∞–∑–æ–≤ (Order.jsx)** ‚úîÔ∏è
- **–ú–Ω–æ–≥–æ—ç—Ç–∞–ø–Ω–æ–µ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞:**
  - –®–∞–≥ 1: –í–≤–æ–¥ –¥–∞–Ω–Ω—ã—Ö (–∞–¥—Ä–µ—Å–∞, –ø–æ–ª—É—á–∞—Ç–µ–ª—å, —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç)
  - –®–∞–≥ 2: –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–∞ —Å –∫–∞—Ä—Ç–æ–π
  - –®–∞–≥ 3: –û–ø–ª–∞—Ç–∞ —á–µ—Ä–µ–∑ Stripe
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º (—Ç–µ–ª–µ—Ñ–æ–Ω, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è)
- Toast —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–ª—è –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π
- –ü—É—Å—Ç–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (empty state) –∫–æ–≥–¥–∞ –Ω–µ—Ç –∑–∞–∫–∞–∑–æ–≤

### 5. **Google Maps –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** ‚úîÔ∏è
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç `RouteMap.jsx` –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –º–∞—Ä—à—Ä—É—Ç–∞
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –ø—É—Ç–∏ –º–µ–∂–¥—É –∞–¥—Ä–µ—Å–∞–º–∏
- –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –º–∞—Ä—à—Ä—É—Ç–∞ –Ω–∞ –∫–∞—Ä—Ç–µ

### 6. **Stripe –ø–ª–∞—Ç–µ–∂–∏** ‚úîÔ∏è
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç `PaymentForm.jsx` —Å Stripe Elements
- –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –≤–≤–æ–¥ –¥–∞–Ω–Ω—ã—Ö –∫–∞—Ä—Ç—ã
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å backend API –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è PaymentIntent
- –°—Ç–∏–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Ñ–æ—Ä–º–∞ –æ–ø–ª–∞—Ç—ã

### 7. **Toast Notifications** ‚úîÔ∏è
- react-hot-toast –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- Success/Error/Loading —Å–æ—Å—Ç–æ—è–Ω–∏—è
- –ö—Ä–∞—Å–∏–≤—ã–π –¥–∏–∑–∞–π–Ω —Å –∏–∫–æ–Ω–∫–∞–º–∏

---

## üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å

### 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```bash
cd Course-Project/DoDel
npm install
```

### 2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å .env —Ñ–∞–π–ª:
–û—Ç–∫—Ä–æ–π —Ñ–∞–π–ª `.env` –∏ **–¥–æ–±–∞–≤—å —Å–≤–æ–π Stripe Publishable Key**:
```env
VITE_GOOGLE_MAPS_API_KEY=AIzaSyBz1c0rzoSRxUT03ymuE0UwY8ETOoSirnY
VITE_STRIPE_PUBLISHABLE_KEY=pk_test_—Ç–≤–æ–π_–∫–ª—é—á_–∑–¥–µ—Å—å
VITE_API_BASE=http://localhost:8080/api
```

**–ì–¥–µ –≤–∑—è—Ç—å Stripe –∫–ª—é—á:**
1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Å—è –Ω–∞ https://dashboard.stripe.com/
2. –ü–µ—Ä–µ–π–¥–∏ –≤ **Developers ‚Üí API keys**
3. –°–∫–æ–ø–∏—Ä—É–π **Publishable key** (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `pk_test_...`)

### 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å frontend:
```bash
npm run dev
```
–û—Ç–∫—Ä–æ–µ—Ç—Å—è –Ω–∞ http://localhost:5173

### 4. –ó–∞–ø—É—Å—Ç–∏—Ç—å backend (–≤ –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ):
```bash
cd Course-Project
./mvnw spring-boot:run
```

---

## üìù –ß—Ç–æ –Ω—É–∂–Ω–æ –¥–æ–¥–µ–ª–∞—Ç—å –Ω–∞ Backend

–°–µ–π—á–∞—Å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –≥–æ—Ç–æ–≤, –Ω–æ backend –Ω—É–∂–Ω–æ –¥–æ–ø–æ–ª–Ω–∏—Ç—å:

### ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ endpoints:

1. **GET /api/order/my_orders** - –ø–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∑–∞–∫–∞–∑–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
2. **POST /api/order/confirm** - –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –∑–∞–∫–∞–∑ –ø–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã
   - –ü—Ä–∏–Ω–∏–º–∞–µ—Ç: `orderToken`, `paymentMethodId`
   - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –∑–∞–∫–∞–∑ –≤ –ë–î
3. **POST /api/order/cancel/{orderId}** - –æ—Ç–º–µ–Ω–∏—Ç—å –∑–∞–∫–∞–∑

### ‚ö†Ô∏è –ò—Å–ø—Ä–∞–≤–∏—Ç—å –≤ OrderController.java:

```java
// –î–æ–±–∞–≤–∏—Ç—å –º–∞–ø–ø–∏–Ω–≥ –¥–ª—è cancelOrder
@PostMapping("/cancel/{orderId}")
public ResponseEntity<Order> cancelOrder(@PathVariable Long orderId) {
    // –ª–æ–≥–∏–∫–∞ –æ—Ç–º–µ–Ω—ã
}

// –î–æ–±–∞–≤–∏—Ç—å endpoint –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∑–∞–∫–∞–∑–æ–≤
@GetMapping("/my_orders")
public List<Order> getMyOrders(@AuthenticationPrincipal UserDetails userDetails) {
    // –≤–µ—Ä–Ω—É—Ç—å –∑–∞–∫–∞–∑—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
}

// –î–æ–±–∞–≤–∏—Ç—å endpoint –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞
@PostMapping("/confirm")
public ResponseEntity<Order> confirmOrder(@RequestBody ConfirmOrderDto dto) {
    // —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∑–∞–∫–∞–∑ —Å orderToken –∏ paymentMethodId
}
```

---

## üé® –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

```
DoDel/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ orderApi.js      # API –¥–ª—è –∑–∞–∫–∞–∑–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ paymentApi.js    # API –¥–ª—è –ø–ª–∞—Ç–µ–∂–µ–π
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ userApi.js       # API –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îÇ   ‚îú‚îÄ‚îÄ Components/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Header.jsx       # –®–∞–ø–∫–∞ —Å–∞–π—Ç–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ RouteMap.jsx     # Google Maps –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PaymentForm.jsx  # Stripe —Ñ–æ—Ä–º–∞ –æ–ø–ª–∞—Ç—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ProtectedRoutes.jsx
‚îÇ   ‚îú‚îÄ‚îÄ pages/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Home.jsx         # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Login.jsx        # –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Registration.jsx # –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Order.jsx        # –ó–∞–∫–∞–∑—ã (–≥–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Profile.jsx      # –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
‚îÇ   ‚îú‚îÄ‚îÄ api.js               # Axios + interceptors + refresh token
‚îÇ   ‚îú‚îÄ‚îÄ main.jsx             # Entry point + Toaster
‚îÇ   ‚îî‚îÄ‚îÄ App.jsx              # Routing
‚îú‚îÄ‚îÄ .env                     # API –∫–ª—é—á–∏ (–í–ê–ñ–ù–û!)
‚îî‚îÄ‚îÄ package.json
```

---

## üîë –í–∞–∂–Ω—ã–µ —Ñ–∞–π–ª—ã

### `api.js` - –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π —Ñ–∞–π–ª –¥–ª—è HTTP –∑–∞–ø—Ä–æ—Å–æ–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç JWT —Ç–æ–∫–µ–Ω –≤ headers
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç refresh token –ø—Ä–∏ 401
- –õ–æ–≥–∏—Ä—É–µ—Ç –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã/–æ—Ç–≤–µ—Ç—ã

### `Order.jsx` - –ì–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- 3-—à–∞–≥–æ–≤–æ–µ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –∫–∞—Ä—Ç–∞–º–∏ –∏ Stripe
- –ì–æ—Ç–æ–≤–æ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ backend

---

## üí° –°–æ–≤–µ—Ç—ã

1. **Stripe Test Cards:**
   - –£—Å–ø–µ—à–Ω–∞—è –æ–ø–ª–∞—Ç–∞: `4242 4242 4242 4242`
   - CVV: –ª—é–±—ã–µ 3 —Ü–∏—Ñ—Ä—ã
   - –°—Ä–æ–∫: –ª—é–±–∞—è –±—É–¥—É—â–∞—è –¥–∞—Ç–∞

2. **Google Maps API:**
   - –£–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω —Å –∫–ª—é—á–æ–º –∏–∑ application.properties
   - –ï—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç - –ø—Ä–æ–≤–µ—Ä—å –∫–ª—é—á –≤ .env

3. **–¢–µ—Å—Ç–æ–≤—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏:**
   - Email: `newtest@mail.ru`
   - Password: `password123`

---

## üêõ –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

1. ‚ùå **Backend –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –∑–∞–∫–∞–∑–æ–≤** - endpoint –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç
2. ‚ùå **–ù–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞** - –Ω—É–∂–µ–Ω `/api/order/confirm`
3. ‚ö†Ô∏è **Stripe –∫–ª—é—á** - –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Å–≤–æ–π –≤ `.env`

---

## üìû –ß—Ç–æ –¥–∞–ª—å—à–µ?

–¢–≤–æ—è –∑–∞–¥–∞—á–∞:
1. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ endpoints –Ω–∞ backend
2. ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤–µ—Å—å flow —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–∫–∞–∑–∞
3. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å Stripe –∫–ª—é—á –≤ `.env`
4. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é –ø–ª–∞—Ç–µ–∂–µ–π

–ú–æ–π —Ç–æ–≤–∞—Ä–∏—â –∑–∞–π–º—ë—Ç—Å—è backend - –ø–µ—Ä–µ–¥–∞–π –µ–º—É —ç—Ç–æ—Ç README! üöÄ

---

**–ì–æ—Ç–æ–≤–æ! –§—Ä–æ–Ω—Ç–µ–Ω–¥ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—á–∏–π, –æ—Å—Ç–∞–ª–æ—Å—å —Ç–æ–ª—å–∫–æ –¥–æ–¥–µ–ª–∞—Ç—å backend.** üéâ
